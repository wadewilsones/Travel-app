var Fox;(()=>{"use strict";var e={d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var a=n.getElementsByTagName("script");a.length&&(t=a[a.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();var t={};e.r(t),e.d(t,{callServer:()=>n,updateUIcurrent:()=>a,updateUiPredicted:()=>o}),document.addEventListener("DOMContentLoaded",(function(){document.getElementById("sub-btn").addEventListener("click",(async function(e){e.preventDefault();const t=document.getElementById("cityinput").value,i=document.getElementById("departureDate").value,r=document.getElementById("return").value;if(""!=t&&""!=i&&""!=r){let e=new Date(i),s=new Date(r),p=parseInt((s.getTime()-e.getTime())/864e5);console.log(p),await async function(e,t={}){await fetch(e,{method:"POST",mode:"cors",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}("http://localhost:3100/Client",{city:t,departure:i,returnDate:r,tripDuration:p}),await n("/Coordinates"),await n("/Weather"),await n("/Pictures");const c=await n("/Trip");console.log(c),console.log("Departure date is "+e);let l=new Date;console.log("Today is "+l);let d=parseInt((e.getTime()-l.getTime())/864e5);console.log("Days before leaving:"+d),d<7?a():o()}else alert("Invalid iput, try again!"),console.log("Invalid iput, try again!")}))}));const n=async e=>{const t=await fetch(e,{method:"GET",mode:"cors",headers:{"Content-Type":"application/json;charset=utf-8"}});try{return await t.json()}catch{console.log(`Error: ${t.statusText}`)}};async function a(){const e=await fetch("/Trip"),t=await e.json(),n=document.getElementById("weather"),a=document.getElementById("pic"),o=document.getElementById("cityoutput"),i=document.getElementById("outputdates");a.src=t.image,n.innerHTML=`<span style= "font-size:18px">Current temperature:</span> <br/> <span style= "font-size:96px; line-height:1;"> ${t.tempcurrent}°</span><br/><span style= "font-size:24px; line-height:0.2;margin-bottom:20px;"> ${t.description.toLowerCase()}</span>`,o.innerHTML=`<span style= "font-size:18px">Destination:</span><br/>${t.destination}, ${t.countryName}`,i.innerHTML=`<span style= "font-size:18px">Trip Duration:</span><br/> <span style= "font-size:72px;line-height:1"> ${t.tripDuration} days</span><br/><span style= "font-size:24px"> ${t.start} - ${t.end}</span>`}async function o(){const e=await fetch("/Trip"),t=await e.json(),n=document.getElementById("weather"),a=document.getElementById("pic"),o=document.getElementById("cityoutput"),i=document.getElementById("outputdates");a.src=t.image,n.innerHTML=`<span style= "font-size:18px">Predicted temperature: </span> <br/> <span style= "font-size:96px;line-height:1">${t.tempPredicted}°</span><br/><span style= "font-size:24px; line-height:0.2; margin-bottom:20px;"> ${t.description.toLowerCase()}</span>`,o.innerHTML=`<span style= "font-size:18px">Destination:</span><br/>${t.destination}, ${t.countryName}`,i.innerHTML=`<span style= "font-size:18px">Trip Duration:</span><br/><span style= "font-size:72px;line-height:1"> ${t.tripDuration}  days</span><br/><span style= "font-size:24px">${t.start} - ${t.end}</span>`}e.p;Fox=t})();